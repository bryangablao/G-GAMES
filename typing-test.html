<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Typing Test</title>
<style>
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0; padding: 0;
  text-align: center;
  color: #fff;
  background: radial-gradient(circle at top left, #380098, black);
  background-size: 200% 200%;
  animation: gradientMove 10s infinite alternate;
  overflow-x: hidden;
}
@keyframes gradientMove {0%{background-position:0% 50%;}100%{background-position:100% 50%;}}
header {
  background: linear-gradient(90deg, #8a2be2, #4b0082);
  padding: 30px 20px;
  font-size: 36px;
  font-weight: bold;
  letter-spacing: 1px;
  color: white;
  text-shadow: 0 0 5px #fff,0 0 10px #8a2be2,0 0 20px #4b0082,0 0 30px #8a2be2;
  animation: neon-flicker 2s infinite alternate;
  position: relative;
  z-index: 10;
}
@keyframes neon-flicker {
  0%,19%,21%,23%,25%,54%,56%,100% {text-shadow:0 0 5px #fff,0 0 10px #8a2be2,0 0 20px #4b0082,0 0 30px #8a2be2;}
  20%,24%,55% {text-shadow:0 0 2px #fff,0 0 5px #8a2be2,0 0 10px #4b0082,0 0 15px #8a2be2;}
}
#helpIcon { position: absolute; top: 10px; right: 15px; font-size: 24px; width: 35px; height: 35px; line-height: 35px; background: rgba(255,255,255,0.1); border-radius: 50%; cursor: pointer; user-select: none; z-index: 20;}
#helpText { display: none; position: absolute; top: 70px; right: 15px; background: rgba(0,0,0,0.8); padding: 15px; border-radius: 10px; width: 250px; text-align: left; font-size: 14px; color: #fff; box-shadow: 0 0 10px #8a2be2; z-index: 20;}
.container { max-width: 800px; margin: 20px auto; position: relative; z-index: 10; display: flex; flex-direction: column; align-items: center; flex-grow: 1; padding: 0 20px; box-sizing: border-box;}
.controls { margin-bottom: 20px; }
.controls button, .back-button { background: linear-gradient(135deg,#8a2be2,#4b0082); border: none; padding: 12px 25px; color: white; font-size: 16px; border-radius: 10px; cursor: pointer; margin-right: 10px; box-shadow: 0 0 10px #8a2be2,0 0 20px #4b0082; transition: all 0.3s ease;}
.controls button:hover, .back-button:hover { transform: scale(1.05); box-shadow: 0 0 20px #9b30ff,0 0 40px #6a0dad; }
#testText { font-size: 18px; padding: 20px; margin-bottom: 20px; background: rgba(255,255,255,0.05); border-radius: 10px; width: 100%; min-height: 150px; text-align: left; line-height: 1.6; overflow-wrap: break-word; box-sizing: border-box;}
#inputArea { font-size: 18px; padding: 12px; width: 100%; max-width: 100%; border-radius: 10px; border: none; outline: none; box-sizing: border-box;}
footer{margin-top: 30px; font-size: 16px; color: #ccc;}
</style>
</head>
<body>

<canvas id="starsCanvas"></canvas>
<canvas id="rippleCanvas"></canvas>

<header>
  Typing Test
  <div id="helpIcon" onclick="toggleHelp()">?</div>
</header>

<div id="helpText">
  <strong>How to Play Typing Test:</strong><br>
  1. Select a timer and start typing.<br>
  2. The test stops automatically when time ends.<br>
  3. WPM and accuracy are displayed at the end.<br>
  4. Press Reset to try again.
</div>

<div class="container">
  <div class="controls">
    Time: 
    <select id="timeSelect">
      <option value="30">30s</option>
      <option value="60">1m</option>
      <option value="120">2m</option>
      <option value="300">5m</option>
      <option value="600">10m</option>
    </select>
    <button onclick="resetTest()">Reset</button>
    <button class="back-button" onclick="goBack()">Back to Lobby</button>
  </div>
  <div id="testText"></div>
  <input type="text" id="inputArea" placeholder="Start typing..." autofocus>
  <div id="status"></div>
</div>

<footer>© 2025 All rights reserved | 🚀 Developed by Accx Creations</footer>

<script>
// === Help Toggle ===
function toggleHelp(){ const help = document.getElementById('helpText'); help.style.display = (help.style.display==='block')?'none':'block'; }
function goBack(){ window.location.href="index.html"; }

// === Typing Test Logic ===
const sentences = [
"The quick brown fox jumps over the lazy dog.",
"Learning new skills improves your mind and body.",
"Technology is advancing faster than ever before.",
"Exercise regularly to stay healthy and strong.",
"Reading books expands your imagination and knowledge.",
"Music has the power to evoke deep emotions.",
"Traveling opens your eyes to new cultures and people.",
"Creativity is key to solving complex problems.",
"Practice makes perfect, never give up.",
"The sun rises every morning bringing light to the world.",
"Friendship is one of life's greatest treasures.",
"Education is the foundation of a bright future.",
"Patience is a virtue that everyone should learn.",
"Honesty is always the best policy.",
"Time management is crucial for success.",
"Nature provides beauty and peace for the soul.",
"Hard work beats talent when talent does not work hard.",
"A healthy diet leads to a happier life.",
"Kindness is contagious and spreads quickly.",
"Challenges help us grow and become stronger."
];
  
let testSentences = [];
for(let i=0;i<100;i++) testSentences.push(sentences[Math.floor(Math.random()*sentences.length)]);

const testTextDiv = document.getElementById('testText');
const inputArea = document.getElementById('inputArea');
const statusDiv = document.getElementById('status');
const timeSelect = document.getElementById('timeSelect');

let currentIndex = 0;
let startTime = null;
let totalTyped = 0;
let correctTyped = 0;
let timer = null;
let timeLeft = 60;

function loadSentence() {
  testTextDiv.innerHTML = "";
  const nextSentences = testSentences.slice(currentIndex, currentIndex+2);
  nextSentences.forEach(s=>{
    const p = document.createElement('p'); p.textContent = s; testTextDiv.appendChild(p);
  });
}

function updateStats() {
  const elapsed = (Date.now() - startTime)/1000/60;
  const wpm = Math.round((correctTyped/5)/elapsed);
  const accuracy = Math.round((correctTyped/totalTyped)*100) || 0;
  statusDiv.textContent = `WPM: ${wpm} | Accuracy: ${accuracy}% | Time Left: ${timeLeft}s`;
}

function resetTest() {
  clearInterval(timer);
  currentIndex = 0; startTime = null; totalTyped = 0; correctTyped = 0;
  inputArea.value = ""; inputArea.disabled = false;
  timeLeft = parseInt(timeSelect.value);
  loadSentence(); updateStats();
  timer = setInterval(()=>{ 
    if(timeLeft>0){ timeLeft--; updateStats(); } 
    else { endTest(); } 
  },1000);
}

function endTest() {
  clearInterval(timer);
  inputArea.disabled = true;
  const elapsed = (parseInt(timeSelect.value)-timeLeft)/60;
  const wpm = Math.round((correctTyped/5)/elapsed);
  const accuracy = Math.round((correctTyped/totalTyped)*100) || 0;
  alert(`⏰ Time's up!\nWPM: ${wpm}\nAccuracy: ${accuracy}%`);
}

inputArea.addEventListener('input', ()=>{
  if(!startTime) startTime = Date.now();
  const currentSentence = testSentences[currentIndex];
  const typed = inputArea.value;
  totalTyped = typed.length;
  let correct = 0;
  for(let i=0;i<typed.length;i++){ if(typed[i]===currentSentence[i]) correct++; }
  correctTyped = correct;
  updateStats();
  if(typed===currentSentence){ inputArea.value = ""; currentIndex++; loadSentence(); }
});

resetTest();
</script>

</body>
</html>
