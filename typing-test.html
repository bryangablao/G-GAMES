<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Typing Test</title>
<style>
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0; padding: 0;
  text-align: center;
  color: #fff;
  background: radial-gradient(circle at top left, #380098, black);
  background-size: 200% 200%;
  animation: gradientMove 10s infinite alternate;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}
@keyframes gradientMove {
  0%{background-position:0% 50%;}
  100%{background-position:100% 50%;}
}
header {
  background: linear-gradient(90deg, #8a2be2, #4b0082);
  padding: 30px 20px;
  font-size: 36px;
  font-weight: bold;
  letter-spacing: 1px;
  color: white;
  text-shadow: 0 0 5px #fff,0 0 10px #8a2be2,0 0 20px #4b0082,0 0 30px #8a2be2;
  animation: neon-flicker 2s infinite alternate;
  position: relative;
  z-index: 10;
}
@keyframes neon-flicker {
  0%,19%,21%,23%,25%,54%,56%,100% {text-shadow:0 0 5px #fff,0 0 10px #8a2be2,0 0 20px #4b0082,0 0 30px #8a2be2;}
  20%,24%,55% {text-shadow:0 0 2px #fff,0 0 5px #8a2be2,0 0 10px #4b0082,0 0 15px #8a2be2;}
}
#helpIcon {
  position: absolute; top: 10px; right: 15px;
  font-size: 24px; width: 35px; height: 35px;
  line-height: 35px;
  background: rgba(255,255,255,0.1);
  border-radius: 50%;
  cursor: pointer; user-select: none;
  z-index: 20;
}
#helpText {
  display: none;
  position: absolute; top: 70px; right: 15px;
  background: rgba(0,0,0,0.8);
  padding: 15px; border-radius: 10px;
  width: 250px;
  text-align: left;
  font-size: 14px;
  color: #fff;
  box-shadow: 0 0 10px #8a2be2;
  z-index: 20;
}
.container {
  max-width: 800px; margin: 20px auto; position: relative; z-index: 10;
  display: flex; flex-direction: column; align-items: center; flex-grow: 1;
}
.controls {
  margin-bottom: 10px;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
}
.controls button,
.back-button {
  background: linear-gradient(135deg,#8a2be2,#4b0082);
  border: none; padding: 12px 25px; color: white; font-size: 16px; 
  border-radius: 10px; cursor: pointer; 
  box-shadow: 0 0 10px #8a2be2,0 0 20px #4b0082;
  transition: all 0.3s ease;
}
.controls button:hover,
.back-button:hover { 
  transform: scale(1.05); 
  box-shadow: 0 0 20px #9b30ff,0 0 40px #6a0dad; 
}
#testText {
  font-size: 18px;
  padding: 20px;
  margin-bottom: 20px;
  background: rgba(255,255,255,0.05);
  border-radius: 10px;
  width: 100%;
  min-height: 120px;
  text-align: left;
  line-height: 1.6;
  overflow-wrap: break-word;
}
#inputArea {
  font-size: 18px;
  padding: 12px;
  width: 100%;
  border-radius: 10px;
  border: none;
  outline: none;
}
#stats {
  margin-top: 15px;
  font-size: 18px;
  color: #ffd700;
  text-shadow: 0 0 5px #fff, 0 0 10px #ffea00;
}
#gameOverModal {
  display: none;
  position: fixed; top: 0; left:0; width:100%; height:100%;
  background: rgba(0,0,0,0.8);
  z-index: 100;
  justify-content: center; align-items: center;
}
#gameOverModal .modal-content {
  background: linear-gradient(135deg,#8a2be2,#4b0082);
  padding: 30px 40px;
  border-radius: 15px;
  text-align: center;
  box-shadow: 0 0 20px #8a2be2, 0 0 40px #4b0082;
}
#gameOverModal button { margin-top: 15px; }
footer {
  padding: 15px 20px;
  font-size: 14px;
  color: #fff;
  text-align: center;
  background: linear-gradient(90deg, #4b0082, #8a2be2);
  box-shadow: 0 -2px 10px #8a2be2;
}
#starsCanvas,#rippleCanvas{position:fixed; top:0; left:0;width:100vw; height:100vh; pointer-events:none; z-index:0;}
</style>
</head>
<body>

<canvas id="starsCanvas"></canvas>
<canvas id="rippleCanvas"></canvas>

<header>
Typing Test
<div id="helpIcon" onclick="toggleHelp()">?</div>
</header>

<div id="helpText">
<strong>How to Play Typing Test:</strong><br>
Type the text as fast and accurately as possible.<br>
Sentences will scroll automatically as you type.<br>
Press "Reset" to start a new test.
</div>

<div class="container">
  <div class="controls">
    <button onclick="resetTest()">Reset</button>
    <button class="back-button" onclick="goBack()">Back to Lobby</button>
  </div>
  <div id="testText"></div>
  <input id="inputArea" type="text" placeholder="Start typing here...">
  <div id="stats">WPM: 0 | Accuracy: 100%</div>
</div>

<div id="gameOverModal">
  <div class="modal-content">
    <h2>Test Completed!</h2>
    <p id="finalStats"></p>
    <button onclick="closeModal()">Close</button>
  </div>
</div>

<footer>Â© 2025 All rights reserved | ðŸš€ Developed by Accx Creations</footer>

<script>
function toggleHelp(){const help=document.getElementById('helpText');help.style.display=(help.style.display==='block')?'none':'block';}
function goBack(){window.location.href="index.html";}

const inputArea = document.getElementById('inputArea');
const testTextDiv = document.getElementById('testText');
const stats = document.getElementById('stats');
const modal = document.getElementById('gameOverModal');
const finalStats = document.getElementById('finalStats');

let startTime, timer, sentences=[], visibleSentences=[], typedSentence='', testStarted=false;

// Example sentences
const sentencePool = [
"The quick brown fox jumps over the lazy dog.",
"Learning new skills improves your mind and body.",
"Technology is advancing faster than ever before.",
"Exercise regularly to stay healthy and strong.",
"Reading books expands your imagination and knowledge.",
"Music has the power to evoke deep emotions.",
"Traveling opens your eyes to new cultures and people.",
"Creativity is key to solving complex problems.",
"Practice makes perfect, never give up.",
"The sun rises every morning bringing light to the world.",
"Friendship is one of life's greatest treasures.",
"Education is the foundation of a bright future.",
"Patience is a virtue that everyone should learn.",
"Honesty is always the best policy.",
"Time management is crucial for success.",
"Nature provides beauty and peace for the soul.",
"Hard work beats talent when talent does not work hard.",
"A healthy diet leads to a happier life.",
"Kindness is contagious and spreads quickly.",
"Challenges help us grow and become stronger.",
"Dream big and set achievable goals.",
"Curiosity drives innovation and learning.",
"Good communication is essential in relationships.",
"Failure is a stepping stone to success.",
"Self-discipline helps achieve long-term goals.",
"Confidence comes from preparation and experience.",
"Mindfulness improves mental and emotional well-being.",
"Volunteering makes a positive impact on society.",
"Adaptability is vital in a changing world.",
"Teamwork often leads to better outcomes."
];

function generateSentence() {
  return sentencePool[Math.floor(Math.random()*sentencePool.length)];
}

function resetTest() {
  sentences = [];
  visibleSentences = [];
  for(let i=0;i<100;i++) sentences.push(generateSentence());
  visibleSentences = sentences.splice(0,2);
  testTextDiv.textContent = visibleSentences.join(" ");
  inputArea.value='';
  typedSentence='';
  stats.textContent = "WPM: 0 | Accuracy: 100%";
  startTime = null;
  testStarted=false;
  inputArea.disabled=false;
  inputArea.focus();
}

inputArea.addEventListener("input",()=>{
  if(!testStarted){startTime=new Date();testStarted=true;timer=setInterval(updateStats,500);}
  const currentTyped = inputArea.value;
  const firstSentence = visibleSentences[0];
  if(currentTyped === firstSentence){
    typedSentence += firstSentence + " ";
    inputArea.value='';
    if(sentences.length>0){
      visibleSentences.shift();
      visibleSentences.push(sentences.shift());
      testTextDiv.textContent = visibleSentences.join(" ");
    } else {
      // Test finished
      clearInterval(timer);
      const elapsed = (new Date()-startTime)/60000;
      const wordsTyped = typedSentence.trim().split(/\s+/).length;
      const wpm = Math.round(wordsTyped/elapsed);
      finalStats.textContent = `Your WPM: ${wpm} | Accuracy: 100%`;
      modal.style.display="flex";
      inputArea.disabled=true;
    }
  }
});

function updateStats(){
  const typed = typedSentence + inputArea.value;
  const wordsTyped = typed.trim().split(/\s+/).length;
  const elapsed = (startTime ? (new Date()-startTime)/60000 : 0);
  const wpm = elapsed>0?Math.round(wordsTyped/elapsed):0;
  const currentText = visibleSentences.join(" ");
  let correctChars=0;
  for(let i=0;i<inputArea.value.length;i++){
    if(inputArea.value[i]===currentText[i]) correctChars++;
  }
  const accuracy = inputArea.value.length>0 ? Math.round(correctChars/inputArea.value.length*100):100;
  stats.textContent = `WPM: ${wpm} | Accuracy: ${accuracy}%`;
}

function closeModal(){modal.style.display="none";}

// === Background stars/ripples ===
const starsCanvas=document.getElementById("starsCanvas");
const starsCtx=starsCanvas.getContext("2d");
let stars=[];
function resizeStarsCanvas(){starsCanvas.width=window.innerWidth;starsCanvas.height=window.innerHeight;generateStars();}
function generateStars(){stars=[];for(let i=0;i<200;i++){stars.push({x:Math.random()*starsCanvas.width,y:Math.random()*starsCanvas.height,alpha:Math.random()*0.7+0.3,radius:Math.random()*1.5+0.5,speed:Math.random()*0.05+0.02});}}
function animateStars(){starsCtx.clearRect(0,0,starsCanvas.width,starsCanvas.height);stars.forEach(s=>{s.alpha+=s.speed*(Math.random()<0.5?-1:1);if(s.alpha<0.1)s.alpha=0.1;if(s.alpha>1)s.alpha=1;starsCtx.beginPath();starsCtx.arc(s.x,s.y,s.radius,0,Math.PI*2);starsCtx.fillStyle=`rgba(255,255,255,${s.alpha})`;starsCtx.fill();});requestAnimationFrame(animateStars);}
window.addEventListener("resize",resizeStarsCanvas);resizeStarsCanvas();animateStars();

const rippleCanvas=document.getElementById("rippleCanvas");
const rippleCtx=rippleCanvas.getContext("2d");
let ripples=[];
function resizeRippleCanvas(){rippleCanvas.width=window.innerWidth;rippleCanvas.height=window.innerHeight;}
window.addEventListener("resize",resizeRippleCanvas);resizeRippleCanvas();
window.addEventListener("mousemove",(e)=>{ripples.push({x:e.clientX,y:e.clientY,radius:0,alpha:0.3,lineWidth:1+Math.random()});if(ripples.length>20)ripples.shift();});
function animateRipples(){rippleCtx.clearRect(0,0,rippleCanvas.width,rippleCanvas.height);ripples.forEach((r,i)=>{r.radius+=1.5;r.alpha-=0.007;if(r.alpha<=0){ripples.splice(i,1);return;}rippleCtx.beginPath();rippleCtx.arc(r.x,r.y,r.radius,0,Math.PI*2);rippleCtx.strokeStyle=`rgba(56,0,152,${r.alpha})`;rippleCtx.lineWidth=r.lineWidth;rippleCtx.stroke();});requestAnimationFrame(animateRipples);}
animateRipples();

resetTest();
</script>
</body>
</html>
