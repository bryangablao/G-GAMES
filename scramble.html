<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scramble</title>
<link rel="icon" href="image/G-GAMES.png">
<style>
/* --- BASE STYLES --- */
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin:0; padding:0;
  text-align:center;
  color:#fff;
  background: radial-gradient(circle at top left, #380098, black);
  background-size:200% 200%;
  animation: gradientMove 10s infinite alternate;
  overflow-x: hidden;
}
@keyframes gradientMove { 0% {background-position:0% 50%;} 100% {background-position:100% 50%;} }

header {
  background: linear-gradient(90deg, #8a2be2, #4b0082);
  color:white;
  padding:20px;
  font-size:calc(1.5rem + 1vw);
  font-weight:bold;
  text-shadow:0 0 5px #fff,0 0 10px #8a2be2,0 0 20px #4b0082,0 0 30px #8a2be2;
  animation: neon-flicker 2s infinite alternate;
  position:relative;
  z-index:10;
}
@keyframes neon-flicker { 0%,19%,21%,23%,25%,54%,56%,100% {text-shadow:0 0 5px #fff,0 0 10px #8a2be2,0 0 20px #4b0082,0 0 30px #8a2be2;} 20%,24%,55% {text-shadow:0 0 2px #fff,0 0 5px #8a2be2,0 0 10px #4b0082,0 0 15px #8a2be2;} }

#helpIcon { 
  position:absolute; top:10px; right:10px; 
  font-size:calc(1rem + 1vw); 
  background: rgba(255,255,255,0.1); 
  border-radius:50%; width:35px; height:35px; 
  line-height:35px; cursor:pointer; user-select:none; text-align:center; 
}
#helpText { 
  display:none; position:absolute; top:60px; right:10px; 
  background: rgba(0,0,0,0.85); padding:15px; border-radius:10px; 
  width:90vw; max-width:300px; text-align:left; font-size:calc(0.75rem + 0.3vw); 
  color:#fff; box-shadow:0 0 10px #8a2be2; z-index:20; 
}

.container { 
  display:flex; flex-direction:column; align-items:center; 
  margin:50px auto 20px auto; padding:0 10px; 
  max-width: 90vw; 
}
.statusMessage { margin-bottom:10px; font-size:calc(0.9rem + 0.3vw); height:24px; }
.scoreboard { 
  background: rgba(255,255,255,0.1); padding:15px 25px; 
  border-radius:12px; box-shadow:0 0 15px #8a2be2; 
  font-size:calc(1rem + 0.5vw); color: gold; 
  min-width:200px; display:inline-block; margin-bottom:20px; 
  word-wrap: break-word;
}
#scrambledWord { font-size:calc(1.2rem + 1vw); font-weight:bold; letter-spacing:2px; margin-bottom:15px; word-break: break-word; }
input[type=text] { 
  padding:10px 15px; font-size:calc(0.9rem + 0.3vw); border-radius:8px; 
  border:none; margin-top:15px; width:80%; max-width:250px; text-align:center; 
  box-sizing: border-box;
}
button { 
  margin-top:10px; padding:10px 15px; font-size:calc(0.8rem + 0.4vw); 
  font-weight:bold; border:none; border-radius:8px; cursor:pointer; 
  background:#8a2be2; color:#fff; box-shadow:0 0 10px #8a2be2,0 0 20px #4b0082; 
  transition:all 0.3s ease; 
}
button:hover { transform: scale(1.05); box-shadow:0 0 20px #9b30ff,0 0 40px #6a0dad; }

.button-row {
  display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; 
  margin-top: 15px;
}
.button-row button { margin-top: 0; flex: 1 1 auto; min-width:100px; max-width:180px; }

footer { font-size:calc(0.8rem + 0.3vw); color:#ccc; margin-top:30px; text-align: center; opacity: 0.9; transition: opacity 0.3s ease, color 0.3s ease, text-shadow 0.3s ease; cursor: pointer; }
footer:hover { opacity: 1; color: #ffeb3b; text-shadow: 0 0 8px #ffeb3b, 0 0 12px #ffffff; }

#starsCanvas, #rippleCanvas, #confettiCanvas { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:0; }

/* Modal */
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); justify-content:center; align-items:center; z-index:50; }
.modal-content { 
  background: #1a0a3a; padding:20px 25px; border-radius:15px; color:#fff; 
  font-size:calc(1rem + 0.3vw); text-align:center; box-shadow:0 0 20px #8a2be2; 
  max-width:90vw; word-wrap: break-word;
}
.modal-content button { margin-top:15px; padding:8px 16px; font-size:calc(0.8rem + 0.3vw); }

/* Responsive adjustments */
@media screen and (max-width: 600px){
  header { font-size:2rem; padding:15px; }
  input[type=text] { width:90%; font-size:1rem; }
  .button-row button { min-width:80px; padding:8px; font-size:0.9rem; }
  .scoreboard { font-size:1rem; padding:10px; }
  #scrambledWord { font-size:1.2rem; }
  #helpText { width:80vw; top:50px; right:5vw; font-size:0.8rem; }
}
</style>
</head>
<body>

<canvas id="starsCanvas"></canvas>
<canvas id="rippleCanvas"></canvas>
<canvas id="confettiCanvas"></canvas>

<header>
  Scramble
  <div id="helpIcon" onclick="toggleHelp()">?</div>
</header>
<div id="helpText">
  üöÄ Welcome to Scramble!<br>
  How to Play:<br>
  - A scrambled word appears in the center.<br>
  - Type your guess in the input box.<br>
  - Press <b>Spacebar</b> to submit your guess.<br>
  - Press <b>Enter</b> to get the next word.<br>
  - Click <b>Hint</b> or press <b>~</b> to reveal a letter.<br>
  - Click <b>Surrender</b> or press <b>Delete</b> to reveal the word.<br>
  - Press <b>Tab</b> to toggle this help.<br>
  - Press <b>Esc</b> to go back to lobby.<br>
</div>

<div class="container">
  <div class="statusMessage" id="statusMessage"></div>
  <div class="scoreboard" id="scoreboard">üéØ New scrambled word appeared! Please enter your guess!</div>
  <div id="scrambledWord"></div>
  <div id="difficultyLabel"></div> <!-- Added -->
  <input type="text" id="guessInput" placeholder="Type your guess">
</div>

<div class="button-row">
  <button onclick="checkGuess()">Check</button>
  <button onclick="useHint()">Hint (2)</button>
  <button onclick="surrenderWord()">Surrender</button>
  <button onclick="nextWord()">Next Word</button>
  <button onclick="goBack()">Back to Lobby</button>
</div>

<!-- Achievement Modal -->
<div id="achievementModal" class="modal">
  <div class="modal-content" id="achievementText">
    Achievement unlocked!
    <br><button onclick="closeModal()">Close</button>
  </div>
</div>

<footer>¬© 2025 All rights reserved || <strong>üöÄ Developed by Accx Creations</strong></footer>

<script>
let words = [
  // 3-letter words
  "Cat","Dog","Cow","Pig","Fox","Bat","Rat","Bee","Ant","Owl","Hen","Ram","Elk","Ape","Yak",
  "Eel","Cub","Pup","Lid","Pen","Sun","Sky","Sea","Ice","Mud","Log","Net","Tin","Joy","Arc","Box","Car","Man","Toy",

  // 4-letter words
  "Lion","Bear","Wolf","Fish","Bird","Frog","Crab","Duck","Swan","Boar","Hare","Crow","Mink","Pony","Colt",
  "Toad","Pike","Carp","Bass","Seal","Kite","Lynx","Mole","Oxen","Gull","Worm","Bark","Leaf","Tree","Snow",
  "Rain","Hail","Wind","Fire","Lava","Sand","Dust","Moon","Star","Mars","Gold","Iron","Lead","Coal","Zinc",
  "Salt","Milk","Rice","Corn","Bean","Plum","Kiwi","Pear","Lime","Oats","Meat","Tuna","Eelz","Puma","Deer",

  // 5+ letter words
  "Rocket","Galaxy","Planet","Meteor","Comet","Orbit","Starry","Astral","Nebula","Eclipse","Solar","Lunar","Asteroid",
  "Cosmos","Stellar","Gravity","Magnetic","Universe","Saturn","Jupiter","Neptune","Uranus","Mercury","Venus","Telescope",
  "Satellite","Shooting","Horizon","Aurora","Cosmic","Celestial","Blackhole","Supernova","Quasar","Cometary","Solarize",
  "Orbiting","Magnet","Electric","Plasma","Photon","Energy","Nuclear","Fusion","Fission","Oxygen","Helium","Nitrogen",
  "Carbon","Hydrogen","Meteoric","Stardust","Moonlit","Sunlight","Twilight","Rocketry","Astronaut","Spaceship","Spacewalk",
  "Milkyway","Nebular","Quasars","Starship","Lightyear","Magnetar","Neutron","Singularity","Cometeer","Planetary","Interstellar",
  "Exoplanet","Moonbase","Rocketman","Starfall","Skyward","Meteorite","Aurorae","Celeste","Pulsars","Supernovae","Astronomer",
  "Telescope","Spacesuit","Gravityfield","Astralplane","Cosmology","Magnetism","Constellation","Moonlight","Starlight","Orbiters",
  "Satellites","Nebulizer","Astrolabe","Spaceport","Starquake","Moonbeam","Sunstone","Eclipsezone","Meteorstorm"
];

let currentWord="", scrambled="", correct=0, incorrect=0, perfectStreak=0;
let hintUses = 0;
const maxHints = 2;


function shuffleWord(word){
  let arr = word.split('');
  let shuffled;
  do {
    shuffled = [...arr];
    for(let i=arr.length-1;i>0;i--){
      let j=Math.floor(Math.random()*(i+1));
      [shuffled[i],shuffled[j]]=[shuffled[j],shuffled[i]];
    }
  } while(shuffled.join('') === word); // ensure not same as original
  return shuffled.join('');
}

// Initialize scoreboard with start message
document.getElementById('scoreboard').innerText = "üéØ Please enter your guess word";

// Update functions

function newWord() {
  currentWord = words[Math.floor(Math.random() * words.length)];
  scrambled = shuffleWord(currentWord);
  document.getElementById('scrambledWord').innerText = scrambled;
  document.getElementById('guessInput').value = '';
  document.getElementById('statusMessage').innerText = '';
  hintUses = 0;
  revealedIndexes = []; // reset revealed letters
  document.querySelector('.button-row button:nth-child(2)').innerText = `Hint (${maxHints})`;

  // Set difficulty based on word length
  let len = currentWord.length;
  let difficulty = "";
  if(len <= 3) difficulty = "Easy";
  else if(len === 4 || len === 5) difficulty = "Normal";
  else if(len === 6 || len === 7) difficulty = "Hard";
  else if(len >= 8 && len <= 10) difficulty = "Very Hard";
  else if(len >= 11) difficulty = "Extremely Hard";

  document.getElementById('difficultyLabel').innerText = `Difficulty: ${difficulty}`;
}


function checkGuess(){
  let guess = document.getElementById('guessInput').value.toUpperCase();
  if(!guess) return;

  if(guess === currentWord){
    perfectStreak++;
    document.getElementById('scoreboard').innerText = `‚úÖ Correct! Click "Next Word" for another. üéâ`;
    checkAchievements();
  } else {
    perfectStreak = 0;
    document.getElementById('scoreboard').innerText = `‚ùå Wrong! Try again.`;
  }
  document.getElementById('statusMessage').innerText = '';
}

let revealedIndexes = []; // store which letters are revealed

function useHint() {
  if (hintUses >= maxHints) {
    document.getElementById('statusMessage').innerText = `‚ö†Ô∏è You used all hints!`;
    return;
  }

  hintUses++;

  let letters = currentWord.split('');
  let unrevealed = [];
  for (let i = 0; i < letters.length; i++) {
    if (!revealedIndexes.includes(i)) unrevealed.push(i);
  }

  if (unrevealed.length > 0) {
    let randomIndex = unrevealed[Math.floor(Math.random() * unrevealed.length)];
    revealedIndexes.push(randomIndex);
  }

  let hintDisplay = '';
  for (let i = 0; i < letters.length; i++) {
    if (revealedIndexes.includes(i)) {
      hintDisplay += letters[i] + ' ';
    } else {
      hintDisplay += '_ ';
    }
  }
  hintDisplay = hintDisplay.trim();

  document.getElementById('scoreboard').innerText =
    `üí° You used ${hintUses} hint${hintUses > 1 ? 's' : ''}. ${maxHints - hintUses} hint${maxHints - hintUses !== 1 ? 's' : ''} left. || ${hintDisplay}`;

  document.querySelector('.button-row button:nth-child(2)').innerText = `Hint (${maxHints - hintUses})`;
}

document.addEventListener('keydown', (e) => {
  switch(e.code) {
    case "Space": // Spacebar ‚Üí Check
      e.preventDefault();
      checkGuess();
      break;
    case "Enter": // Enter ‚Üí Next Word
      e.preventDefault();
      nextWord();
      break;
    case "Escape": // Esc ‚Üí Back to Lobby
      e.preventDefault();
      goBack();
      break;
    case "NumpadAdd": // Numpad + ‚Üí Hint
    case "Equal": // For regular '+' key
      e.preventDefault();
      useHint();
      break;
    case "Tab": // Tab ‚Üí Toggle help text
      e.preventDefault();
      toggleHelp();
      break;
    case "Delete": // Delete ‚Üí Surrender
      e.preventDefault();
      surrenderWord();
      break;
    case "Backquote": // ` key ‚Üí Hint
      e.preventDefault();
      useHint();
      break;
   }
});

function surrenderWord(){
  let letters = currentWord.split('');
  let displayHTML = letters.map(l => `<span style="color:red">${l}</span>`).join('');
  document.getElementById('scrambledWord').innerHTML = displayHTML;
  document.getElementById('scoreboard').innerText = `üíî The word was: "${currentWord}"`;
}

function nextWord(){
  hintUses = 0; // reset hint counter
  document.querySelector('.button-row button:nth-child(2)').innerText = `Hint (${maxHints})`;
  newWord();
  document.getElementById('scoreboard').innerText = "üéØ New word displayed!";
  document.getElementById('statusMessage').innerText = '';
}

function toggleHelp(){
  let help = document.getElementById('helpText');
  help.style.display = help.style.display === 'block' ? 'none' : 'block';
}

function goBack(){ window.location.href = "index.html"; }

// Achievements
function checkAchievements(){
  if(perfectStreak === 10){
    showModal("Achievement unlocked! üéâ 10 correct guesses with no wrong!");
  } else if(perfectStreak === 50){
    showModal("Achievement unlocked! üåü 50 correct guesses with no wrong!");
  } else if(perfectStreak === 100){
    showModal("üèÜ Perfect Master Guesser! 100 correct guesses with no mistakes!");
  }
}

function showModal(text){
  document.getElementById('achievementText').childNodes[0].textContent = text;
  document.getElementById('achievementModal').style.display = "flex";
  triggerConfetti();
}

function closeModal(){
  document.getElementById('achievementModal').style.display = "none";
}

// === Confetti ===
const confettiCanvas = document.getElementById('confettiCanvas');
const confettiCtx = confettiCanvas.getContext('2d');
let confettiPieces = [];

function resizeConfettiCanvas(){
  confettiCanvas.width = window.innerWidth;
  confettiCanvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeConfettiCanvas);
resizeConfettiCanvas();

function triggerConfetti(){
  for(let i=0;i<150;i++){
    confettiPieces.push({
      x: Math.random()*confettiCanvas.width,
      y: Math.random()*confettiCanvas.height - confettiCanvas.height,
      r: Math.random()*6+4,
      d: Math.random()*15+5,
      color: `hsl(${Math.random()*360},100%,50%)`,
      tilt: Math.random()*10-10,
      tiltAngleIncrement: Math.random()*0.07+0.05
    });
  }
  animateConfetti();
}

function animateConfetti(){
  confettiCtx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
  confettiPieces.forEach((c,i)=>{
    c.tiltAngle += c.tiltAngleIncrement;
    c.y += (Math.cos(c.d) + 3 + c.r/2)/2;
    c.x += Math.sin(c.tiltAngle);
    confettiCtx.beginPath();
    confettiCtx.lineWidth = c.r/2;
    confettiCtx.strokeStyle = c.color;
    confettiCtx.moveTo(c.x+c.tilt+ c.r/4, c.y);
    confettiCtx.lineTo(c.x+c.tilt, c.y+c.tilt+c.r/4);
    confettiCtx.stroke();
    if(c.y > confettiCanvas.height){ confettiPieces.splice(i,1); }
  });
  if(confettiPieces.length>0){ requestAnimationFrame(animateConfetti); }
}

// === Stars + Ripple ===
const starsCanvas = document.getElementById('starsCanvas');
const starsCtx = starsCanvas.getContext('2d');
let stars=[];
function resizeStarsCanvas(){starsCanvas.width=window.innerWidth; starsCanvas.height=window.innerHeight; generateStars();}
function generateStars(){stars=[];for(let i=0;i<200;i++){stars.push({x:Math.random()*starsCanvas.width,y:Math.random()*starsCanvas.height,baseAlpha:Math.random()*0.7+0.3,alpha:Math.random()*0.7+0.3,radius:Math.random()*1.5+0.5,flickerSpeed:Math.random()*0.05+0.02});}}
function animateStars(){starsCtx.clearRect(0,0,starsCanvas.width,starsCanvas.height);stars.forEach(star=>{star.alpha+=star.flickerSpeed*(Math.random()<0.5?-1:1);if(star.alpha<0.1) star.alpha=0.1;if(star.alpha>1) star.alpha=1;starsCtx.beginPath();starsCtx.arc(star.x,star.y,star.radius,0,Math.PI*2);starsCtx.fillStyle=`rgba(255,255,255,${star.alpha})`;starsCtx.fill();});requestAnimationFrame(animateStars);}
window.addEventListener('resize',resizeStarsCanvas); resizeStarsCanvas(); animateStars();

const rippleCanvas=document.getElementById('rippleCanvas');
const rippleCtx=rippleCanvas.getContext('2d');
let ripples=[];
function resizeRippleCanvas(){rippleCanvas.width=window.innerWidth; rippleCanvas.height=window.innerHeight;}
window.addEventListener('resize',resizeRippleCanvas);resizeRippleCanvas();
window.addEventListener('mousemove',(e)=>{ripples.push({x:e.clientX,y:e.clientY,radius:0,alpha:0.3,lineWidth:1+Math.random()});if(ripples.length>20) ripples.shift();});
function animateRipples(){rippleCtx.clearRect(0,0,rippleCanvas.width,rippleCanvas.height);ripples.forEach((r,i)=>{r.radius+=1.5;r.alpha-=0.007;if(r.alpha<=0){ripples.splice(i,1);return;}rippleCtx.beginPath();rippleCtx.arc(r.x,r.y,r.radius,0,Math.PI*2);rippleCtx.strokeStyle=`rgba(56,0,152,${r.alpha})`;rippleCtx.lineWidth=r.lineWidth;rippleCtx.stroke();});requestAnimationFrame(animateRipples);}
animateRipples();

// Initialize first word
newWord();
</script>



</body></html>
